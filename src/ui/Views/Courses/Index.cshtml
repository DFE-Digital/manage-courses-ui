@model CourseListViewModel

@{
    Layout = "_Layout";
}

<div class="grid-row add-double-bottom-margin">
    <div class="column-two-thirds">
        <h1 class="heading-xlarge">
            @Model.Courses.OrganisationName
        </h1>

        <h2 class="heading-large">
            Request access for someone
        </h2>

        <p>
            You can <a href="https://goo.gl/forms/knDj4JYC06iiZDn72">request a DfE Sign-in account</a> for others who manage your courses.
        </p>

        <h2 class="heading-large">
            Check your courses
        </h2>

        <p>
            We found @Model.TotalCount courses belonging to @Model.Courses.OrganisationName.
        </p>
        <p>
            Check that your course information is correct. If there are any problems, you should <a href="mailto:becomingateacher@digital.education.gov.uk?subject=Publish%20teacher%20training%20courses%20problem">contact the Becoming a Teacher team</a> to let us know.
        </p>
        <p>
            To make any changes, for now you’ll still need to use UCAS web-link. Changes on UCAS will normally show here within one working day.
        </p>
    </div>
</div>

@foreach (var providerCourse in Model.Courses.ProviderCourses)
{

    <h3 class="heading-medium">
        <span class="heading-secondary">Accrediting provider</span>
        @providerCourse.AccreditingProviderName
    </h3>

    <table class="ucas-info-table">
        <thead>
            <tr>
                <th class="subject-col">Subject</th>
                <th class="code-col">UCAS code</th>
                <th class="type-col">Type</th>
                <th class="link-col"></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var course in providerCourse.CourseDetails)
            {
                foreach (var variant in course.Variants)
                {
            <tr>
                <td>@course.CourseTitle</td>
                <td>@variant.UcasCode</td>
                <td>@variant.GetCourseVariantType()</td>
                <td class="ucas-view-link">
                    <a href="@Url.Action("variants", "course", new { accreditingProviderId = providerCourse.AccreditingProviderId, courseTitle = course.CourseTitle, ucasCode = variant.UcasCode })">View course</a>
                </td>
            </tr>
                }
            }
        </tbody>
    </table>
}
